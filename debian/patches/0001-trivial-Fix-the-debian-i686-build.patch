From d73f082ba00b671e448114f3a3fea2eb57eaf0f7 Mon Sep 17 00:00:00 2001
From: Richard Hughes <richard@hughsie.com>
Date: Wed, 16 Apr 2025 10:18:53 +0100
Subject: [PATCH] trivial: Fix the debian i686 build

---
 plugins/modem-manager/fu-dfota-updater.c | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/plugins/modem-manager/fu-dfota-updater.c b/plugins/modem-manager/fu-dfota-updater.c
index fba309dd6..b6b8bf4b9 100644
--- a/plugins/modem-manager/fu-dfota-updater.c
+++ b/plugins/modem-manager/fu-dfota-updater.c
@@ -110,6 +110,7 @@ fu_dfota_updater_parse_upload_result(FuDfotaUpdater *self,
 				     gsize *size,
 				     GError **error)
 {
+	guint64 val = 0;
 	g_autoptr(GBytes) result_bytes = NULL;
 	g_autoptr(GRegex) result_regex = NULL;
 	g_autoptr(GMatchInfo) match_info = NULL;
@@ -162,8 +163,9 @@ fu_dfota_updater_parse_upload_result(FuDfotaUpdater *self,
 
 	g_debug("parsed checksum '%s' and size '%s'", checksum_match, size_match);
 
-	if (!g_ascii_string_to_unsigned(size_match, 10, 0, G_MAXSIZE, size, error))
+	if (!g_ascii_string_to_unsigned(size_match, 10, 0, G_MAXSIZE, &val, error))
 		return FALSE;
+	*size = (gsize)val;
 
 	*checksum = g_steal_pointer(&checksum_match);
 
-- 
2.43.0

